---
layout: post
title:  "初学PX4之环境搭建"
categories: "drons_lifes"
author: nephne
tags: 工作生活
donate: true
comments: true
---
####前言
前段时间linux崩溃了，桌面进去后只有背景，折腾好久没搞定，为了节省时间索性重装了系统，同时也借这个机会从头记载一下作为初学者的学习过程。主要是按PX4的官网初学者教程进行，把其中遇到的一些初学者容易遇到的问题罗列出来，由于对于国内这方面的资料相对缺乏，希望能给大家提供一些帮助，也算是自我学习的一个整理。

<!--more-->
如果你还不是很了解关于飞行器的这个项目PX4，建议迅速跳到PX4的[官网](https://pixhawk.org/start?id=start)一探究竟。简单来说，PX4是一个软、硬件开源项目（遵守BSD协议），目的在于为学术、爱好和工业团体提供一款低成本高性能的高端的自驾仪。这个项目源于 [ETH Zurich (苏黎世联邦理工大学)的计算机视觉与几何实验室](http://cvg.ethz.ch/)的[PIXHAWK项目](http://pixhawk.ethz.ch/)、并得到了[自主系统实验室](http://www.asl.ethz.ch/)和 [自动控制实验室](http://control.ee.ethz.ch/)的支持 ，以及一些出色的个人([Contact and Credits](https://pixhawk.org/credits))也参与其中，包括 [3D Robotics](http://store.diydrones.com/category_s/63.htm) 和 [international 3DR distributors](http://diydrones.com/profiles/blogs/list-of-all-diy-drones)的成员。

####前期准备
为了让大家能与我的学习保持同步，先介绍一下在搭建这个PX4环境前我已经做好的工作：

1. 硬件一套，包括DJI F450机架、Pixhawk 2.4.6 mini飞控、好盈乐天20A电调、1045正反桨、银燕电机2216、天地飞6通道遥控器。详情见淘宝链接里的[套餐方案](https://item.taobao.com/item.htm?spm=a1z10.5-c.w4002-8717792970.38.rv3aHa&id=41190426449)。
2. 软件环境，使用的最新发行版[Ubuntu 15.10](http://www.ubuntu.org.cn/download/desktop)操作系统。

####工具链安装
在准备工作做好并对PX4有了一定的了解后，从[开发者快速入门教程](https://pixhawk.org/dev/quickstart)开始PX4的环境搭建，对于`Linux`这里直接跳到了[工具链](http://dev.px4.io/starting-installing-linux.html)的安装。按照教程说的命令去执行就可以了，只要你的网速够好，相信很快就能完成任务。说明一下这里做了哪些事情：

1. 更新软件包列表并安装所有PX4构建目标的依赖。
2. ubuntu自带的串口调制解调器严重的影响到了机器人串口相关的使用，可以没有任何副作用的卸载掉。
3. 安装模拟工具CLANG 3.5。
4. 添加当前用户到组”dialout“(如果这步没做，会导致很多用户权限问题)。

####代码编译
然后就到了编译代码的阶段，那么首先得弄到代码，按照[这个](http://dev.px4.io/starting-building.html)里面的步骤去做就好了，想必有不懂GIT是个啥的童鞋，那就看看这个[教程](http://www.baidu.com/link?url=4SHXOrDDTzA0AikKpygmE4MjBiO1sW5xmOXQSY4a1fs6emoM8k5FjPmJaKHYe1k7-fkPNIwj1nN6gKPSvu7eD_Yc_kmawnQw_nfFCa8d-x3yhS3Oa_zvfnTXU6Tv672q&wd=&eqid=9b9127b80003430300000004566da82d)吧，保证有帮助。这里要做的事情主要是：

1. 克隆PX4软件到本地，
2. make编译，
3. 连接USB到无人机硬件，上传固件

####软件在环测试（SITL）
